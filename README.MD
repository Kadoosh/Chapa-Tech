# ğŸ” Sistema Completo de GestÃ£o para Lanchonetes

## ğŸ“‹ VisÃ£o Geral do Projeto

Sistema web profissional e completo para gestÃ£o de lanchonetes, hamburguerias, bares e pequenos estabelecimentos. SoluÃ§Ã£o moderna que digitaliza todo o processo operacional, desde o atendimento atÃ© a administraÃ§Ã£o.

### Problema que Resolve
- âŒ Pedidos em papel (perdem-se, ilegÃ­veis, desorganizados)
- âŒ Falta de controle sobre o que cada mesa pediu
- âŒ ComunicaÃ§Ã£o confusa entre atendimento e cozinha
- âŒ Dificuldade em acompanhar status dos pedidos
- âŒ AusÃªncia de relatÃ³rios e anÃ¡lise de dados
- âŒ Controle de estoque manual e impreciso
- âŒ GestÃ£o de usuÃ¡rios e permissÃµes

### SoluÃ§Ã£o Proposta
âœ… **PWA para Atendentes** - Tablet/smartphone para anotar pedidos digitalmente  
âœ… **Painel Cozinha** - VisualizaÃ§Ã£o em tempo real estilo Kanban (Preparando â†’ Pronto)  
âœ… **Tela Caixa** - FinalizaÃ§Ã£o de pedidos e controle de mesas  
âœ… **Painel Admin** - GestÃ£o completa de produtos, mesas, usuÃ¡rios e configuraÃ§Ãµes  
âœ… **Dashboard KPIs** - AnÃ¡lise de vendas, produtos mais vendidos, horÃ¡rios de pico  
âœ… **Controle de Estoque** - MovimentaÃ§Ãµes, alertas de estoque baixo e histÃ³rico  
âœ… **Sistema de AutenticaÃ§Ã£o** - Controle de acesso com grupos e permissÃµes  
âœ… **ImpressÃ£o TÃ©rmica** - AutomaÃ§Ã£o de impressÃ£o na cozinha (em desenvolvimento)  
âœ… **WebSocket** - AtualizaÃ§Ã£o em tempo real em todas as telas  

**IMPORTANTE:** Este sistema NÃƒO inclui integraÃ§Ã£o de pagamento. O foco Ã© na gestÃ£o operacional completa.

---

## ğŸ—ï¸ Arquitetura do Sistema

### VisÃ£o de Alto NÃ­vel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       REDE LOCAL (LAN)                            â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   Tablet/    â”‚           â”‚  Servidor Local  â”‚                 â”‚
â”‚  â”‚  Smartphone  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   (Node.js)      â”‚                 â”‚
â”‚  â”‚  (Atendente) â”‚  Wi-Fi    â”‚                  â”‚                 â”‚
â”‚  â”‚     PWA      â”‚           â”‚  Express + SQLiteâ”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   Socket.io      â”‚                 â”‚
â”‚                              â”‚   Prisma ORM     â”‚                 â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                       â”‚                           â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                 â”‚                     â”‚                 â”‚         â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”‚
â”‚           â”‚  Painel   â”‚         â”‚  Caixa  â”‚      â”‚  Admin  â”‚    â”‚
â”‚           â”‚  Cozinha  â”‚         â”‚  (Web)  â”‚      â”‚  (Web)  â”‚    â”‚
â”‚           â”‚   (Web)   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                   â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚           â”‚  Dashboard   â”‚         â”‚  Impressora   â”‚            â”‚
â”‚           â”‚    (Web)     â”‚         â”‚   TÃ©rmica*    â”‚            â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                     *Em desenvolvimento          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Componentes Principais

#### 1. **Servidor Backend (Node.js + Express)**
- **Responsabilidades:**
  - API REST completa para todas as operaÃ§Ãµes
  - Gerenciar pedidos, produtos, mesas, usuÃ¡rios (CRUD)
  - Armazenar dados no SQLite via Prisma ORM
  - Distribuir eventos em tempo real via WebSocket (Socket.io)
  - Controle de autenticaÃ§Ã£o e autorizaÃ§Ã£o (JWT)
  - CÃ¡lculo de KPIs e estatÃ­sticas
  - GestÃ£o de estoque e movimentaÃ§Ãµes
  - Servir aplicaÃ§Ã£o frontend

#### 2. **Frontend Hub** (React + Vite)
- **Responsabilidades:**
  - Tela inicial de login
  - SeleÃ§Ã£o de funÃ§Ã£o (Atendente, Cozinha, Caixa, Admin, Dashboard)
  - Controle de permissÃµes por usuÃ¡rio
  - Interface moderna e responsiva

#### 3. **Frontend PWA - Atendente** (React)
- **Responsabilidades:**
  - Interface otimizada para tablets/smartphones
  - AnotaÃ§Ã£o de pedidos por mesa
  - SeleÃ§Ã£o de produtos por categoria
  - Busca rÃ¡pida de produtos
  - Cadastro rÃ¡pido de clientes
  - Carrinho de compras interativo
  - Campo de observaÃ§Ãµes por item/pedido

#### 4. **Frontend Web - Painel Cozinha** (React)
- **Responsabilidades:**
  - Exibir pedidos em colunas estilo Kanban
  - 2 estados: "Preparando" â†’ "Pronto"
  - Marcar pedidos como prontos
  - NotificaÃ§Ãµes sonoras para novos pedidos
  - AtualizaÃ§Ã£o em tempo real via WebSocket
  - Interface otimizada para monitores grandes

#### 5. **Frontend Web - Caixa** (React)
- **Responsabilidades:**
  - Visualizar todas as mesas ocupadas
  - Detalhamento de consumo por mesa
  - HistÃ³rico completo de pedidos
  - CÃ¡lculo de totais
  - Finalizar pedidos (marcar como pago)
  - LiberaÃ§Ã£o automÃ¡tica de mesas

#### 6. **Frontend Web - Admin** (React)
- **Responsabilidades:**
  - CRUD completo de Produtos e Categorias
  - CRUD de Mesas
  - CRUD de UsuÃ¡rios e Grupos
  - Gerenciamento de PermissÃµes
  - ConfiguraÃ§Ãµes do sistema
  - Interface com tabs organizadas

#### 7. **Frontend Web - Dashboard** (React)
- **Responsabilidades:**
  - KPIs principais (faturamento, ticket mÃ©dio, etc)
  - GrÃ¡ficos de vendas por perÃ­odo
  - Produtos mais vendidos
  - HorÃ¡rios de pico
  - Top clientes
  - Comparativos de perÃ­odos
  - Filtros de data customizÃ¡veis

#### 8. **Frontend Web - Estoque** (React)
- **Responsabilidades:**
  - VisualizaÃ§Ã£o de nÃ­veis de estoque
  - Registro de entradas e saÃ­das
  - Ajustes manuais de estoque
  - HistÃ³rico de movimentaÃ§Ãµes
  - Alertas de estoque baixo
  - RelatÃ³rios de movimentaÃ§Ã£o

#### 9. **Banco de Dados (SQLite + Prisma)**
- **Responsabilidades:**
  - Armazenar todos os dados do sistema
  - 12 tabelas principais
  - Relacionamentos complexos
  - PersistÃªncia local
  - Facilidade de backup (Ãºnico arquivo .db)
  - MigraÃ§Ãµes versionadas

---

## ğŸ› ï¸ Stack TecnolÃ³gica

### Backend
| Tecnologia | VersÃ£o | PropÃ³sito |
|------------|--------|-----------|
| **Node.js** | 18+ | Runtime JavaScript |
| **Express** | 4.x | Framework web minimalista |
| **Prisma** | 5.x | ORM (Object-Relational Mapping) |
| **SQLite** | 3.x | Banco de dados local |
| **Socket.io** | 4.x | ComunicaÃ§Ã£o em tempo real (WebSocket) |
| **bcryptjs** | 2.x | Hash de senhas |
| **jsonwebtoken** | 9.x | AutenticaÃ§Ã£o JWT |
| **express-validator** | 7.x | ValidaÃ§Ã£o de inputs |
| **winston** | 3.x | Sistema de logs |
| **date-fns** | 3.x | ManipulaÃ§Ã£o de datas |
| **node-thermal-printer** | 4.x | Controle de impressora tÃ©rmica* |

*Em desenvolvimento

### Frontend
| Tecnologia | VersÃ£o | PropÃ³sito |
|------------|--------|-----------|
| **React** | 18.x | Biblioteca para UI |
| **Vite** | 5.x | Build tool (rÃ¡pido e moderno) |
| **TanStack Query** | 5.x | Gerenciamento de estado/cache |
| **React Router** | 6.x | Roteamento SPA |
| **Socket.io Client** | 4.x | Cliente WebSocket |
| **Tailwind CSS** | 3.x | Framework CSS utilitÃ¡rio |
| **Axios** | 1.x | Cliente HTTP |
| **Recharts** | 2.x | Biblioteca de grÃ¡ficos |
| **date-fns** | 3.x | FormataÃ§Ã£o de datas |

### Ferramentas de Desenvolvimento
- **ESLint** - Linting
- **Prettier** - FormataÃ§Ã£o de cÃ³digo
- **Git** - Controle de versÃ£o

---

## ğŸ“Š Modelo de Dados Completo

### Diagrama ER Simplificado

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Usuario   â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚ GrupoUsuario â”‚â—€â”€â”€â”€â”€â”€â”€â”‚  Permissao  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                             
       â”‚ (cria)                                      
       â–¼                                             
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              
â”‚   Pedido    â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚     Mesa     â”‚              
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
       â”‚                                             
       â”‚                                             
       â–¼                                             
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ItemPedido  â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚   Produto    â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚  Categoria  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                       
       â”‚                     â”‚                       
       â”‚                     â–¼                       
       â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              
       â”‚              â”‚ItemEstoque   â”‚              
       â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
       â”‚                                             
       â–¼                                             
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     
â”‚   Cliente   â”‚                                     
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     
```

### Tabelas Principais (12 no total)

1. **Usuario** - UsuÃ¡rios do sistema
2. **GrupoUsuario** - Grupos (Admin, Atendente, Cozinha, Caixa)
3. **Permissao** - PermissÃµes granulares
4. **PermissaoGrupo** - RelaÃ§Ã£o N:N entre grupos e permissÃµes
5. **Cliente** - Clientes do estabelecimento
6. **Mesa** - Mesas do estabelecimento
7. **Pedido** - Pedidos realizados
8. **ItemPedido** - Itens de cada pedido
9. **Produto** - Produtos do cardÃ¡pio
10. **Categoria** - Categorias de produtos
11. **ItemEstoque** - Controle de estoque por produto
12. **Configuracao** - ConfiguraÃ§Ãµes gerais do sistema
13. **LogAcao** - Auditoria de aÃ§Ãµes dos usuÃ¡rios

---

## ğŸ”„ Fluxo de Dados em Tempo Real

### 1. Atendente Cria Pedido
```
Tablet PWA (Atendente)
  â†’ POST /api/pedidos { mesaId, clienteId?, itens[], observacao }
    â†’ Backend valida dados (express-validator)
      â†’ Cria pedido no SQLite (Prisma)
        â†’ Atualiza estoque (se configurado)
          â†’ Emite evento WebSocket: "novo_pedido"
            â†’ Painel Cozinha recebe e exibe em "Preparando"
            â†’ Caixa atualiza lista de mesas ocupadas
            â†’ [Futuro] Impressora imprime pedido
              â†’ Retorna sucesso para atendente
```

### 2. Cozinha Marca como Pronto
```
Painel Cozinha
  â†’ PATCH /api/pedidos/:id/status { status: "pronto" }
    â†’ Backend valida permissÃ£o
      â†’ Atualiza status no banco
        â†’ Emite evento WebSocket: "pedido_atualizado"
          â†’ Painel Cozinha move card para coluna "Pronto"
          â†’ Caixa atualiza status do pedido
          â†’ [Opcional] Toca som de notificaÃ§Ã£o
```

### 3. Caixa Finaliza Pedido
```
Tela Caixa
  â†’ PATCH /api/pedidos/:id/status { status: "pago" }
    â†’ Backend valida permissÃ£o
      â†’ Marca pedido como pago
        â†’ Verifica se todos pedidos da mesa foram pagos
          â†’ Se sim, libera mesa (status = "livre")
            â†’ Emite evento WebSocket: "pedido_finalizado"
              â†’ Remove do painel cozinha
              â†’ Atualiza lista de mesas no caixa
              â†’ Atualiza estatÃ­sticas do cliente
```

### 4. Admin Atualiza Produto
```
Painel Admin
  â†’ PUT /api/produtos/:id { nome, preco, disponivel, ... }
    â†’ Backend valida permissÃ£o (somente Admin/Gerente)
      â†’ Atualiza produto no banco
        â†’ Emite evento WebSocket: "produto_atualizado"
          â†’ Atendentes veem atualizaÃ§Ã£o em tempo real
          â†’ Cache invalidado automaticamente (TanStack Query)
```

---

## ğŸ“± Funcionalidades Detalhadas

### ğŸ” AutenticaÃ§Ã£o e PermissÃµes
- **Login seguro** com JWT
- **4 grupos padrÃ£o**: Admin, Gerente, Atendente, Cozinha, Caixa
- **PermissÃµes granulares**: 30+ permissÃµes individuais
- **Controle de acesso** por tela e funÃ§Ã£o
- **SessÃµes persistentes** com refresh token
- **Logs de auditoria** para aÃ§Ãµes crÃ­ticas

### ğŸ“‹ GestÃ£o de Pedidos
- **CriaÃ§Ã£o rÃ¡pida** de pedidos por mesa
- **Busca/cadastro de clientes** por telefone
- **ObservaÃ§Ãµes** por item e por pedido
- **4 status**: Preparando â†’ Pronto â†’ Entregue â†’ Pago
- **Cancelamento** com motivo registrado
- **HistÃ³rico completo** por mesa/cliente/perÃ­odo
- **AtualizaÃ§Ã£o em tempo real** via WebSocket

### ğŸ‘¨â€ğŸ³ Painel Cozinha
- **Interface Kanban** (2 colunas: Preparando | Pronto)
- **Cards detalhados** com itens, quantidade, observaÃ§Ãµes
- **NotificaÃ§Ãµes sonoras** para novos pedidos
- **Indicador de tempo** desde criaÃ§Ã£o
- **Filtros** por status
- **Auto-refresh** a cada 10 segundos
- **Design otimizado** para monitores grandes

### ğŸ’° GestÃ£o de Caixa
- **VisualizaÃ§Ã£o de mesas** ocupadas/livres
- **Detalhamento da conta** por mesa
- **HistÃ³rico de pedidos** da mesa
- **CÃ¡lculo automÃ¡tico** de totais
- **FinalizaÃ§Ã£o de pedidos** (marcar como pago)
- **LiberaÃ§Ã£o automÃ¡tica** de mesas
- **Busca rÃ¡pida** por nÃºmero de mesa

### âš™ï¸ Painel Administrativo
- **CRUD Produtos**: Nome, descriÃ§Ã£o, preÃ§o, categoria, imagem, disponibilidade
- **CRUD Categorias**: OrganizaÃ§Ã£o do cardÃ¡pio
- **CRUD Mesas**: NÃºmero, capacidade, localizaÃ§Ã£o
- **CRUD UsuÃ¡rios**: Nome, email, grupo, permissÃµes
- **GestÃ£o de Grupos**: AtribuiÃ§Ã£o de permissÃµes
- **Sistema de tabs** organizado
- **ValidaÃ§Ãµes em tempo real**
- **ConfirmaÃ§Ãµes** para exclusÃµes

### ğŸ“Š Dashboard e KPIs
- **Faturamento**: Hoje, semana, mÃªs com comparativos
- **Ticket mÃ©dio**: Valor mÃ©dio por pedido
- **Total de pedidos**: Quantidade por perÃ­odo
- **Produtos mais vendidos**: Top 10 com grÃ¡ficos
- **HorÃ¡rios de pico**: AnÃ¡lise de fluxo
- **Top clientes**: Maiores consumidores
- **GrÃ¡ficos interativos**: Recharts
- **Filtros de perÃ­odo**: Hoje, ontem, semana, mÃªs, customizado
- **Comparativos**: PerÃ­odo atual vs anterior

### ğŸ“¦ Controle de Estoque
- **VisualizaÃ§Ã£o de nÃ­veis** de estoque
- **Registro de entradas**: Compras com fornecedor e nota
- **Registro de saÃ­das**: Consumo interno, perdas
- **Ajustes manuais**: Com motivo registrado
- **HistÃ³rico completo** de movimentaÃ§Ãµes
- **Alertas de estoque baixo**: ConfigurÃ¡vel por produto
- **Baixa automÃ¡tica**: Ao criar pedido (opcional)
- **RelatÃ³rios de movimentaÃ§Ã£o**: Por perÃ­odo

### ğŸ–¨ï¸ ImpressÃ£o TÃ©rmica*
*Funcionalidade em desenvolvimento
- ImpressÃ£o automÃ¡tica ao criar pedido
- Suporte a impressoras ESC/POS
- ConexÃ£o USB ou rede
- Formato customizÃ¡vel
- ImpressÃ£o de comprovantes
---

## ğŸ“ Estrutura Completa do Projeto

```
sistema-lanchonetes/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ database.js          # ConexÃ£o Prisma
â”‚   â”‚   â”‚   â””â”€â”€ socket.js            # ConfiguraÃ§Ã£o Socket.io
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js              # AutenticaÃ§Ã£o JWT
â”‚   â”‚   â”‚   â”œâ”€â”€ authorize.js         # VerificaÃ§Ã£o de permissÃµes
â”‚   â”‚   â”‚   â”œâ”€â”€ errorHandler.js      # Tratamento de erros global
â”‚   â”‚   â”‚   â””â”€â”€ validateRequest.js   # ValidaÃ§Ã£o de inputs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js             # Agregador de rotas
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.routes.js       # Login/logout/refresh
â”‚   â”‚   â”‚   â”œâ”€â”€ pedidos.routes.js    # CRUD pedidos
â”‚   â”‚   â”‚   â”œâ”€â”€ mesas.routes.js      # CRUD mesas
â”‚   â”‚   â”‚   â”œâ”€â”€ produtos.routes.js   # CRUD produtos/categorias
â”‚   â”‚   â”‚   â”œâ”€â”€ clientes.routes.js   # CRUD clientes
â”‚   â”‚   â”‚   â”œâ”€â”€ usuarios.routes.js   # CRUD usuÃ¡rios/grupos
â”‚   â”‚   â”‚   â”œâ”€â”€ estoque.routes.js    # Controle de estoque
â”‚   â”‚   â”‚   â””â”€â”€ dashboard.routes.js  # Endpoints de KPIs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ authController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ pedidoController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ mesaController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ produtoController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ clienteController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ usuarioController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ estoqueController.js
â”‚   â”‚   â”‚   â””â”€â”€ dashboardController.js
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ socketService.js     # LÃ³gica WebSocket
â”‚   â”‚   â”‚   â”œâ”€â”€ printerService.js    # Impressora tÃ©rmica*
â”‚   â”‚   â”‚   â”œâ”€â”€ backupService.js     # Backup automÃ¡tico*
â”‚   â”‚   â”‚   â””â”€â”€ kpiService.js        # CÃ¡lculos de KPIs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ logger.js            # Winston logs
â”‚   â”‚   â”‚   â”œâ”€â”€ validators.js        # ValidaÃ§Ãµes customizadas
â”‚   â”‚   â”‚   â””â”€â”€ dateHelpers.js       # Helpers de data
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ server.js                # Entry point do backend
â”‚   â”‚
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma            # Schema do banco (13 models)
â”‚   â”‚   â”œâ”€â”€ seed.js                  # Dados iniciais
â”‚   â”‚   â””â”€â”€ migrations/              # HistÃ³rico de migraÃ§Ãµes
â”‚   â”‚
â”‚   â”œâ”€â”€ logs/                        # Logs do sistema
â”‚   â”œâ”€â”€ .env                         # VariÃ¡veis de ambiente
â”‚   â”œâ”€â”€ .env.example                 # Template de .env
â”‚   â”œâ”€â”€ .gitignore
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ manifest.json            # PWA manifest
â”‚   â”‚   â”œâ”€â”€ icon-192.png             # Ãcone PWA 192x192
â”‚   â”‚   â”œâ”€â”€ icon-512.png             # Ãcone PWA 512x512
â”‚   â”‚   â””â”€â”€ sounds/
â”‚   â”‚       â”œâ”€â”€ novo-pedido.mp3      # Som novo pedido
â”‚   â”‚       â””â”€â”€ pedido-pronto.mp3    # Som pedido pronto
â”‚   â”‚
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ assets/                  # Imagens, logos
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ common/              # Componentes reutilizÃ¡veis
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Input.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Card.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Badge.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Loading.jsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Layout.jsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ProtectedRoute.jsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ atendente/           # Componentes tela atendente
â”‚   â”‚   â”‚   â”œâ”€â”€ cozinha/             # Componentes painel cozinha
â”‚   â”‚   â”‚   â”œâ”€â”€ caixa/               # Componentes tela caixa
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/               # Componentes painel admin
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/           # Componentes dashboard
â”‚   â”‚   â”‚   â””â”€â”€ estoque/             # Componentes estoque
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx            # PÃ¡gina de login
â”‚   â”‚   â”‚   â”œâ”€â”€ Hub.jsx              # SeleÃ§Ã£o de funÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ Atendente.jsx        # PWA para atendentes
â”‚   â”‚   â”‚   â”œâ”€â”€ Cozinha.jsx          # Painel da cozinha
â”‚   â”‚   â”‚   â”œâ”€â”€ Caixa.jsx            # Tela do caixa
â”‚   â”‚   â”‚   â”œâ”€â”€ Admin.jsx            # Painel administrativo
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx        # Dashboard de KPIs
â”‚   â”‚   â”‚   â””â”€â”€ Estoque.jsx          # Controle de estoque
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useAuth.js           # Hook de autenticaÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ usePermissions.js    # VerificaÃ§Ã£o de permissÃµes
â”‚   â”‚   â”‚   â”œâ”€â”€ usePedidos.js        # OperaÃ§Ãµes de pedidos
â”‚   â”‚   â”‚   â”œâ”€â”€ useMesas.js          # OperaÃ§Ãµes de mesas
â”‚   â”‚   â”‚   â”œâ”€â”€ useProdutos.js       # OperaÃ§Ãµes de produtos
â”‚   â”‚   â”‚   â”œâ”€â”€ useClientes.js       # OperaÃ§Ãµes de clientes
â”‚   â”‚   â”‚   â”œâ”€â”€ useSocket.js         # WebSocket
â”‚   â”‚   â”‚   â”œâ”€â”€ useAdmin.js          # OperaÃ§Ãµes admin
â”‚   â”‚   â”‚   â”œâ”€â”€ useEstoque.js        # OperaÃ§Ãµes estoque
â”‚   â”‚   â”‚   â””â”€â”€ useNotification.js   # NotificaÃ§Ãµes sonoras
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js               # Axios configurado
â”‚   â”‚   â”‚   â”œâ”€â”€ socket.js            # Socket.io client
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.js      # ServiÃ§os de auth
â”‚   â”‚   â”‚   â”œâ”€â”€ pedidos.service.js   # ServiÃ§os de pedidos
â”‚   â”‚   â”‚   â”œâ”€â”€ produtos.service.js  # ServiÃ§os de produtos
â”‚   â”‚   â”‚   â”œâ”€â”€ mesas.service.js     # ServiÃ§os de mesas
â”‚   â”‚   â”‚   â”œâ”€â”€ clientes.service.js  # ServiÃ§os de clientes
â”‚   â”‚   â”‚   â””â”€â”€ dashboard.service.js # ServiÃ§os de KPIs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthContext.jsx      # Context de autenticaÃ§Ã£o
â”‚   â”‚   â”‚   â””â”€â”€ SocketContext.jsx    # Context WebSocket
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ formatters.js        # FormataÃ§Ã£o moeda, data
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.js         # Constantes
â”‚   â”‚   â”‚   â”œâ”€â”€ storage.js           # localStorage helpers
â”‚   â”‚   â”‚   â””â”€â”€ sounds.js            # Helpers de Ã¡udio
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”‚   â”œâ”€â”€ globals.css          # Estilos globais + Tailwind
â”‚   â”‚   â”‚   â””â”€â”€ animations.css       # AnimaÃ§Ãµes customizadas
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ App.jsx                  # Componente raiz
â”‚   â”‚   â””â”€â”€ main.jsx                 # Entry point React
â”‚   â”‚
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.js               # Config Vite + PWA
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ postcss.config.js
â”‚   â”œâ”€â”€ .env                         # VariÃ¡veis frontend
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ .gitignore
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ CRIACAO DO PROJETO/              # DocumentaÃ§Ã£o completa
â”‚   â”œâ”€â”€ PHASE_00_PROJECT_SETUP.md
â”‚   â”œâ”€â”€ PHASE_01_DATABASE_SCHEMA.md
â”‚   â”œâ”€â”€ PHASE_02_BACKEND_CORE.md
â”‚   â”œâ”€â”€ PHASE_03_AUTH_PERMISSIONS.md
â”‚   â”œâ”€â”€ PHASE_04_FRONTEND_HUB.md
â”‚   â”œâ”€â”€ PHASE_05_SCREEN_ATENDENTE.md
â”‚   â”œâ”€â”€ PHASE_06_SCREEN_COZINHA.md
â”‚   â”œâ”€â”€ PHASE_07_SCREEN_CAIXA.md
â”‚   â”œâ”€â”€ PHASE_08_SCREEN_ADMIN.md
â”‚   â”œâ”€â”€ PHASE_09_DASHBOARD_KPIS.md
â”‚   â”œâ”€â”€ PHASE_10_ESTOQUE.md
â”‚   â”œâ”€â”€ PHASE_11_PRINTER_BACKUP.md   # Em desenvolvimento
â”‚   â””â”€â”€ PHASE_12_POLISH_DEPLOY.md
â”‚
â”œâ”€â”€ .gitignore                       # Gitignore global
â””â”€â”€ README.md                        # Este arquivo
```

*Funcionalidades em desenvolvimento

---

## ğŸš€ Setup e InstalaÃ§Ã£o

### PrÃ©-requisitos
- **Node.js** 18+ instalado ([Download](https://nodejs.org/))
- **npm** ou **yarn**
- **Git** (opcional)
- **Windows, Linux ou macOS**

### InstalaÃ§Ã£o Completa

#### 1. Clone o RepositÃ³rio
```bash
git clone <repo-url>
cd sistema-lanchonetes
```

#### 2. Backend Setup
```bash
cd backend

# Instalar dependÃªncias
npm install

# Configurar variÃ¡veis de ambiente
cp .env.example .env
# Editar .env conforme necessÃ¡rio

# Criar banco de dados e rodar migraÃ§Ãµes
npx prisma migrate dev --name init

# Popular banco com dados iniciais (admin padrÃ£o + exemplos)
npx prisma db seed

# Iniciar servidor de desenvolvimento
npm run dev
```

**Servidor rodando em:** `http://localhost:3000`

**Credenciais padrÃ£o:**
- Email: `admin@sistema.com`
- Senha: `admin123`

#### 3. Frontend Setup
```bash
cd ../frontend

# Instalar dependÃªncias
npm install

# Configurar variÃ¡veis de ambiente
cp .env.example .env
# Editar .env conforme necessÃ¡rio

# Iniciar aplicaÃ§Ã£o
npm run dev
```

**AplicaÃ§Ã£o rodando em:** `http://localhost:5173`

### Acessar o Sistema

1. Abra o navegador em `http://localhost:5173`
2. FaÃ§a login com as credenciais padrÃ£o
3. Selecione a funÃ§Ã£o desejada no Hub

**Telas disponÃ­veis:**
- ğŸ›ï¸ **Atendente** - PWA otimizado para tablets
- ğŸ‘¨â€ğŸ³ **Cozinha** - Painel Kanban em tempo real
- ğŸ’° **Caixa** - FinalizaÃ§Ã£o de pedidos
- âš™ï¸ **Admin** - GestÃ£o completa do sistema
- ğŸ“Š **Dashboard** - AnÃ¡lise de dados e KPIs
- ğŸ“¦ **Estoque** - Controle de estoque

---

## ğŸ” Sistema de PermissÃµes

### Grupos PadrÃ£o

| Grupo | DescriÃ§Ã£o | Acesso |
|-------|-----------|--------|
| **Admin** | Administrador total | Todas as funcionalidades |
| **Gerente** | Gerente do estabelecimento | Dashboard, Admin (sem usuÃ¡rios), Estoque |
| **Atendente** | GarÃ§om/Atendente | Criar pedidos, visualizar mesas |
| **Cozinha** | Equipe da cozinha | Painel cozinha (visualizar e atualizar) |
| **Caixa** | Operador de caixa | Finalizar pedidos, visualizar totais |

### PermissÃµes Granulares (30+)

**Pedidos:**
- `criar_pedido`, `visualizar_pedido`, `editar_pedido`, `cancelar_pedido`

**Produtos:**
- `criar_produto`, `editar_produto`, `deletar_produto`, `visualizar_produto`

**Mesas:**
- `criar_mesa`, `editar_mesa`, `deletar_mesa`, `visualizar_mesa`

**UsuÃ¡rios:**
- `criar_usuario`, `editar_usuario`, `deletar_usuario`, `visualizar_usuario`

**Dashboard:**
- `ver_dashboard`, `ver_relatorios`, `exportar_dados`

**Estoque:**
- `ver_estoque`, `entrada_estoque`, `saida_estoque`, `ajuste_estoque`

---

## ğŸ“Š Dashboard - KPIs DisponÃ­veis

### MÃ©tricas Principais
- **Faturamento**: Total do perÃ­odo selecionado
- **Ticket MÃ©dio**: Valor mÃ©dio por pedido
- **Total de Pedidos**: Quantidade no perÃ­odo
- **Taxa de OcupaÃ§Ã£o**: Mesas ocupadas vs total
- **Tempo MÃ©dio**: PreparaÃ§Ã£o, atendimento, permanÃªncia

### GrÃ¡ficos
- **Faturamento por PerÃ­odo**: Linha temporal
- **Produtos Mais Vendidos**: GrÃ¡fico de barras horizontal
- **HorÃ¡rios de Pico**: Heatmap de pedidos por hora
- **Vendas por Categoria**: GrÃ¡fico de pizza
- **Comparativo de PerÃ­odos**: Barras lado a lado

### Filtros
- Hoje
- Ontem
- Esta Semana
- Este MÃªs
- Personalizado (data inÃ­cio e fim)

### Top Listas
- **Top 10 Clientes**: Maiores consumidores
- **Top 10 Produtos**: Mais vendidos
- **Top 5 Categorias**: Mais populares

---

## ğŸ¨ Guia de Uso RÃ¡pido

### Para Atendentes

1. **Fazer Login**
   - Abrir aplicaÃ§Ã£o no tablet
   - Inserir email e senha
   - Selecionar "Atendente"

2. **Criar Pedido**
   - Selecionar mesa
   - Escolher categoria de produtos
   - Adicionar produtos ao carrinho
   - Inserir observaÃ§Ãµes (opcional)
   - Cadastrar cliente (opcional)
   - Confirmar pedido

3. **Visualizar Pedidos**
   - Ver pedidos ativos por mesa
   - Acompanhar status em tempo real

### Para Cozinha

1. **Acessar Painel**
   - Login com usuÃ¡rio da cozinha
   - Selecionar "Cozinha"

2. **Visualizar Pedidos**
   - Coluna "Preparando": Novos pedidos
   - Ver detalhes: itens, quantidades, observaÃ§Ãµes

3. **Marcar como Pronto**
   - Clicar em "Marcar como Pronto"
   - Pedido move para coluna "Pronto"
   - NotificaÃ§Ã£o enviada para caixa

### Para Caixa

1. **Ver Mesas Ocupadas**
   - Login com usuÃ¡rio do caixa
   - Selecionar "Caixa"
   - Visualizar todas as mesas ocupadas

2. **Finalizar Conta**
   - Clicar na mesa desejada
   - Ver histÃ³rico completo de pedidos
   - Verificar total
   - Clicar em "Marcar como Pago"
   - Mesa automaticamente liberada

### Para Administradores

1. **Gerenciar Produtos**
   - Acessar "Admin" â†’ "Produtos"
   - Adicionar, editar ou remover produtos
   - Configurar preÃ§o, categoria, disponibilidade

2. **Gerenciar UsuÃ¡rios**
   - Acessar "Admin" â†’ "UsuÃ¡rios"
   - Criar novo usuÃ¡rio
   - Atribuir grupo e permissÃµes
   - Ativar/desativar usuÃ¡rios

3. **Configurar Mesas**
   - Acessar "Admin" â†’ "Mesas"
   - Adicionar novas mesas
   - Definir nÃºmero, capacidade, localizaÃ§Ã£o

4. **Ver Dashboard**
   - Acessar "Dashboard"
   - Selecionar perÃ­odo
   - Analisar KPIs e grÃ¡ficos

5. **Controlar Estoque**
   - Acessar "Estoque"
   - Registrar entradas (compras)
   - Registrar saÃ­das (perdas, consumo interno)
   - Ver alertas de estoque baixo

---

## ğŸ“ˆ Roadmap de Funcionalidades

### âœ… Fase 0 - Setup do Projeto (ConcluÃ­da)
- [x] Estrutura de diretÃ³rios completa
- [x] ConfiguraÃ§Ã£o Backend (Node.js + Express + Prisma)
- [x] ConfiguraÃ§Ã£o Frontend (React + Vite + Tailwind)
- [x] WebSocket configurado (Socket.io)
- [x] VariÃ¡veis de ambiente

### âœ… Fase 1 - Database Schema (ConcluÃ­da)
- [x] Schema Prisma com 13 models
- [x] Relacionamentos completos
- [x] Migrations aplicadas
- [x] Seed com dados iniciais
- [x] Admin padrÃ£o criado

### âœ… Fase 2 - Backend Core (ConcluÃ­da)
- [x] Sistema de autenticaÃ§Ã£o JWT
- [x] 8 rotas principais (auth, pedidos, mesas, produtos, clientes, usuÃ¡rios, estoque, dashboard)
- [x] Controllers com lÃ³gica de negÃ³cio
- [x] Middlewares (auth, autorizaÃ§Ã£o, validaÃ§Ã£o, erro)
- [x] WebSocket com eventos em tempo real
- [x] Logger configurado (Winston)

### âœ… Fase 3 - Auth & Permissions Frontend (ConcluÃ­da)
- [x] AuthContext e ProtectedRoute
- [x] Hook useAuth
- [x] ServiÃ§o API com interceptors
- [x] PersistÃªncia de token
- [x] Auto-refresh de token
- [x] VerificaÃ§Ã£o de permissÃµes

### âœ… Fase 4 - Hub & Login (ConcluÃ­da)
- [x] PÃ¡gina de Login profissional
- [x] Hub com seleÃ§Ã£o de funÃ§Ãµes
- [x] AnimaÃ§Ãµes suaves
- [x] Componentes reutilizÃ¡veis (Button, Input, Card)
- [x] Menu de perfil com dropdown
- [x] Responsividade completa

### âœ… Fase 5 - Tela Atendente (ConcluÃ­da)
- [x] PWA otimizado para tablets
- [x] Listagem de produtos por categoria
- [x] Busca de produtos
- [x] Carrinho de compras
- [x] SeleÃ§Ã£o de mesa
- [x] Cadastro rÃ¡pido de cliente
- [x] IntegraÃ§Ã£o com backend
- [x] WebSocket em tempo real

### âœ… Fase 6 - Painel Cozinha (ConcluÃ­da)
- [x] Interface Kanban (Preparando | Pronto)
- [x] Cards de pedido detalhados
- [x] BotÃ£o "Marcar como Pronto"
- [x] NotificaÃ§Ãµes sonoras
- [x] AtualizaÃ§Ã£o automÃ¡tica em tempo real
- [x] Indicador de tempo
- [x] AnimaÃ§Ãµes de entrada/saÃ­da

### âœ… Fase 7 - Tela Caixa (ConcluÃ­da)
- [x] Listagem de mesas com pedidos ativos
- [x] Cards de mesa com status
- [x] Modal de detalhamento da conta
- [x] HistÃ³rico de pedidos por mesa
- [x] CÃ¡lculo de totais
- [x] FinalizaÃ§Ã£o de pedidos
- [x] LiberaÃ§Ã£o automÃ¡tica de mesas
- [x] WebSocket para atualizaÃ§Ãµes

### âœ… Fase 8 - Admin Panel (ConcluÃ­da)
- [x] Sistema de tabs
- [x] CRUD completo de Produtos
- [x] CRUD completo de Categorias
- [x] CRUD completo de Mesas
- [x] CRUD completo de UsuÃ¡rios
- [x] VisualizaÃ§Ã£o de Grupos e PermissÃµes
- [x] FormulÃ¡rios validados
- [x] Modals de criaÃ§Ã£o/ediÃ§Ã£o
- [x] ConfirmaÃ§Ãµes de exclusÃ£o

### âœ… Fase 9 - Dashboard KPIs (ConcluÃ­da)
- [x] Cards de KPIs principais
- [x] GrÃ¡fico de faturamento
- [x] GrÃ¡fico de produtos mais vendidos
- [x] GrÃ¡fico de horÃ¡rios de pico
- [x] Top 10 clientes
- [x] Comparativo de perÃ­odos
- [x] Filtros de data
- [x] Design profissional com Recharts

### âœ… Fase 10 - Estoque (ConcluÃ­da)
- [x] VisualizaÃ§Ã£o de nÃ­veis de estoque
- [x] Registro de entradas
- [x] Registro de saÃ­das
- [x] Ajustes manuais
- [x] HistÃ³rico de movimentaÃ§Ãµes
- [x] Alertas de estoque baixo
- [x] Filtros e busca
- [x] GrÃ¡fico de movimentaÃ§Ãµes

### ğŸ”„ Fase 11 - Impressora & Backup (Em Desenvolvimento)
- [ ] IntegraÃ§Ã£o com impressora tÃ©rmica
- [ ] ImpressÃ£o automÃ¡tica de pedidos
- [ ] ConfiguraÃ§Ã£o de layout de impressÃ£o
- [ ] Backup automÃ¡tico para Google Drive
- [ ] Backup manual com download
- [ ] RestauraÃ§Ã£o de backups
- [ ] Agendamento de backups

### ğŸ”„ Fase 12 - Polish & Deploy (Em Desenvolvimento)
- [ ] OtimizaÃ§Ãµes de performance
- [ ] Service Worker completo (PWA)
- [ ] Manifest.json otimizado
- [ ] Ãcones e favicons
- [ ] Build de produÃ§Ã£o
- [ ] DocumentaÃ§Ã£o de deploy
- [ ] Scripts de automaÃ§Ã£o
- [ ] Testes finais

### ğŸš€ VersÃ£o 2.0 (Futuro)
- [ ] MigraÃ§Ã£o para PostgreSQL (multi-estabelecimento)
- [ ] Aplicativo mobile nativo
- [ ] Comandas digitais (QR Code)
- [ ] Sistema de delivery integrado
- [ ] RelatÃ³rios avanÃ§ados (PDF/Excel)
- [ ] IntegraÃ§Ã£o com sistemas de pagamento
- [ ] Sistema de fidelidade
- [ ] Multi-idiomas
- [ ] Modo escuro
- [ ] NotificaÃ§Ãµes push

---

## ğŸ§ª Testes e Qualidade

### Backend
```bash
cd backend

# Verificar banco de dados
npx prisma studio

# Ver logs do servidor
npm run dev
```

### Frontend
```bash
cd frontend

# Build de produÃ§Ã£o
npm run build

# Preview do build
npm run preview
```

### Checklist de Qualidade
- [x] ValidaÃ§Ã£o de inputs no backend
- [x] Tratamento de erros global
- [x] Logs estruturados (Winston)
- [x] AutenticaÃ§Ã£o segura (JWT + bcrypt)
- [x] ProteÃ§Ã£o contra SQL injection (Prisma)
- [x] CORS configurado corretamente
- [x] VariÃ¡veis de ambiente separadas
- [x] Loading states em todas as operaÃ§Ãµes
- [x] Feedback visual de sucesso/erro
- [x] Responsividade em todos os breakpoints

---

## ğŸ”§ Troubleshooting

### Problema: Backend nÃ£o inicia
**SoluÃ§Ã£o:**
```bash
# Verificar se porta 3000 estÃ¡ disponÃ­vel
netstat -ano | findstr :3000

# Verificar variÃ¡veis de ambiente
cat backend/.env

# Verificar instalaÃ§Ã£o de dependÃªncias
cd backend
rm -rf node_modules package-lock.json
npm install
```

### Problema: Frontend nÃ£o conecta com backend
**SoluÃ§Ã£o:**
```bash
# Verificar variÃ¡vel de ambiente
cat frontend/.env

# Deve conter:
# VITE_API_URL=http://localhost:3000/api
# VITE_SOCKET_URL=http://localhost:3000

# Reiniciar frontend
npm run dev
```

### Problema: Erro de migraÃ§Ã£o do banco
**SoluÃ§Ã£o:**
```bash
cd backend

# Resetar banco (CUIDADO: apaga todos os dados)
npx prisma migrate reset

# Ou criar nova migraÃ§Ã£o
npx prisma migrate dev --name fix_migration

# Popular novamente
npx prisma db seed
```

### Problema: WebSocket nÃ£o funciona
**SoluÃ§Ã£o:**
- Verificar se backend estÃ¡ rodando
- Verificar URL do socket no `.env` do frontend
- Verificar console do navegador para erros de conexÃ£o
- Testar em navegador diferente

### Problema: Erro de CORS
**SoluÃ§Ã£o:**
- Verificar configuraÃ§Ã£o de CORS no backend
- Adicionar origem do frontend em `ALLOWED_ORIGINS`
- Reiniciar servidor backend

---

## ğŸ“¦ Deploy em ProduÃ§Ã£o

### OpÃ§Ã£o 1: Servidor Local (PC/Notebook do Cliente)

#### Requisitos
- Windows 10+ / Linux / macOS
- Node.js 18+ instalado
- 4GB RAM mÃ­nimo
- 10GB espaÃ§o em disco

#### InstalaÃ§Ã£o
```bash
# 1. Instalar Node.js
# Download: https://nodejs.org/

# 2. Instalar PM2 (gerenciador de processos)
npm install -g pm2

# 3. Clonar projeto
git clone <repo-url>
cd sistema-lanchonetes

# 4. Configurar backend
cd backend
npm install --production
cp .env.example .env
# Editar .env com configuraÃ§Ãµes de produÃ§Ã£o

# 5. Configurar banco
npx prisma migrate deploy
npx prisma db seed

# 6. Iniciar backend com PM2
pm2 start src/server.js --name pedidos-backend
pm2 startup
pm2 save

# 7. Configurar frontend
cd ../frontend
npm install
npm run build

# 8. Servir frontend (com PM2)
pm2 serve dist 80 --name pedidos-frontend
pm2 save

# 9. Verificar status
pm2 status
```

#### Acessar
- Abrir navegador: `http://localhost` ou `http://IP-DA-MAQUINA`

### OpÃ§Ã£o 2: Docker (Recomendado)

#### docker-compose.yml
```yaml
version: '3.8'

services:
  backend:
    build: ./backend
    container_name: pedidos-backend
    ports:
      - "3000:3000"
    volumes:
      - ./backend/prisma:/app/prisma
      - ./backend/logs:/app/logs
    environment:
      - NODE_ENV=production
      - DATABASE_URL=file:/app/prisma/prod.db
      - JWT_SECRET=${JWT_SECRET}
    restart: unless-stopped

  frontend:
    build: ./frontend
    container_name: pedidos-frontend
    ports:
      - "80:80"
    depends_on:
      - backend
    restart: unless-stopped

volumes:
  prisma_data:
  logs_data:
```

#### Comandos Docker
```bash
# Build e iniciar
docker-compose up -d

# Ver logs
docker-compose logs -f

# Parar
docker-compose down

# Backup do banco
docker cp pedidos-backend:/app/prisma/prod.db ./backup-$(date +%Y%m%d).db
```

### OpÃ§Ã£o 3: VPS/Cloud (Internet)

**Provedores recomendados:**
- DigitalOcean
- AWS (EC2)
- Google Cloud
- Heroku
- Railway

**Stack recomendado para produÃ§Ã£o:**
- PostgreSQL (ao invÃ©s de SQLite)
- Nginx (proxy reverso)
- SSL/TLS (Let's Encrypt)
- PM2 (gerenciamento de processos)

---

## ğŸ›¡ï¸ SeguranÃ§a em ProduÃ§Ã£o

### Checklist de SeguranÃ§a

#### Backend
- [x] Senhas hasheadas com bcrypt
- [x] JWT com secret forte
- [x] ValidaÃ§Ã£o de inputs (express-validator)
- [x] ProteÃ§Ã£o SQL injection (Prisma)
- [ ] Rate limiting (express-rate-limit)
- [ ] Helmet.js para headers de seguranÃ§a
- [ ] HTTPS em produÃ§Ã£o
- [ ] VariÃ¡veis sensÃ­veis em .env (nunca no cÃ³digo)

#### Frontend
- [x] Tokens armazenados com seguranÃ§a
- [x] ValidaÃ§Ã£o de inputs
- [x] SanitizaÃ§Ã£o de dados
- [ ] Content Security Policy (CSP)
- [ ] HTTPS obrigatÃ³rio
- [ ] SameSite cookies

#### Geral
- [x] CORS configurado corretamente
- [x] Logs de auditoria
- [ ] Backup automÃ¡tico diÃ¡rio
- [ ] Monitoramento de erros
- [ ] AtualizaÃ§Ãµes de seguranÃ§a

### Gerar JWT Secret Forte
```bash
# Linux/Mac
openssl rand -base64 64

# Windows (PowerShell)
$bytes = New-Object byte[] 64
[System.Security.Cryptography.RNGCryptoServiceProvider]::Create().GetBytes($bytes)
[Convert]::ToBase64String($bytes)
```

---

## ğŸ“š DocumentaÃ§Ã£o Completa

### DocumentaÃ§Ã£o do Projeto
Toda a documentaÃ§Ã£o detalhada estÃ¡ na pasta `CRIACAO DO PROJETO/`:

- **PHASE_00** - Setup completo do projeto
- **PHASE_01** - Schema do banco de dados
- **PHASE_02** - Backend Core (API REST)
- **PHASE_03** - AutenticaÃ§Ã£o e PermissÃµes
- **PHASE_04** - Hub e Login
- **PHASE_05** - Tela Atendente (PWA)
- **PHASE_06** - Painel Cozinha
- **PHASE_07** - Tela Caixa
- **PHASE_08** - Painel Admin
- **PHASE_09** - Dashboard e KPIs
- **PHASE_10** - Controle de Estoque
- **PHASE_11** - Impressora e Backup (em desenvolvimento)
- **PHASE_12** - Polish e Deploy (em desenvolvimento)

### API Documentation

#### AutenticaÃ§Ã£o
```http
POST /api/auth/login
Content-Type: application/json

{
  "email": "admin@sistema.com",
  "senha": "admin123"
}

Response:
{
  "token": "eyJhbGc...",
  "usuario": {
    "id": 1,
    "nome": "Admin",
    "email": "admin@sistema.com",
    "grupo": { "nome": "Admin" }
  }
}
```

#### Pedidos
```http
# Listar pedidos
GET /api/pedidos
Authorization: Bearer {token}

# Criar pedido
POST /api/pedidos
Authorization: Bearer {token}
Content-Type: application/json

{
  "mesaId": 1,
  "clienteId": 1,
  "observacao": "Sem cebola",
  "itens": [
    {
      "produtoId": 1,
      "quantidade": 2,
      "observacao": "Mal passado"
    }
  ]
}

# Atualizar status
PATCH /api/pedidos/:id/status
Authorization: Bearer {token}
Content-Type: application/json

{
  "status": "pronto"
}
```

#### Produtos
```http
# Listar produtos
GET /api/produtos

# Criar produto (Admin)
POST /api/produtos
Authorization: Bearer {token}
Content-Type: application/json

{
  "nome": "X-Burger",
  "descricao": "HambÃºrguer artesanal",
  "preco": 25.90,
  "categoriaId": 1,
  "disponivel": true
}
```

### WebSocket Events

#### Cliente â†’ Servidor
```javascript
// Entrar em room
socket.emit('join:atendente');
socket.emit('join:cozinha');
socket.emit('join:caixa');
```

#### Servidor â†’ Cliente
```javascript
// Novo pedido criado
socket.on('novo_pedido', (pedido) => {
  console.log('Novo pedido:', pedido);
});

// Pedido atualizado
socket.on('pedido_atualizado', (pedido) => {
  console.log('Pedido atualizado:', pedido);
});

// Pedido finalizado
socket.on('pedido_finalizado', (pedidoId) => {
  console.log('Pedido finalizado:', pedidoId);
});

// Produto atualizado
socket.on('produto_atualizado', (produto) => {
  console.log('Produto atualizado:', produto);
});
```

---

## ğŸ¤ Contribuindo

ContribuiÃ§Ãµes sÃ£o bem-vindas! Este projeto estÃ¡ em desenvolvimento ativo.

### Como Contribuir

1. **Fork o projeto**
2. **Crie uma branch** para sua feature
   ```bash
   git checkout -b feature/nova-funcionalidade
   ```
3. **Commit suas mudanÃ§as**
   ```bash
   git commit -m 'feat: adiciona nova funcionalidade'
   ```
4. **Push para a branch**
   ```bash
   git push origin feature/nova-funcionalidade
   ```
5. **Abra um Pull Request**

### PadrÃµes de Commit

Usamos [Conventional Commits](https://www.conventionalcommits.org/):

- `feat:` Nova funcionalidade
- `fix:` CorreÃ§Ã£o de bug
- `docs:` DocumentaÃ§Ã£o
- `style:` FormataÃ§Ã£o
- `refactor:` RefatoraÃ§Ã£o de cÃ³digo
- `test:` Testes
- `chore:` ManutenÃ§Ã£o

---

## ğŸ“ Suporte e Contato

### Reporte de Bugs
Encontrou um bug? Abra uma [issue](https://github.com/seu-usuario/sistema-lanchonetes/issues) com:
- DescriÃ§Ã£o do problema
- Passos para reproduzir
- Screenshots (se aplicÃ¡vel)
- Ambiente (SO, navegador, versÃ£o Node.js)

### SolicitaÃ§Ã£o de Features
Tem uma ideia? Abra uma [issue](https://github.com/seu-usuario/sistema-lanchonetes/issues) com:
- DescriÃ§Ã£o da feature
- Caso de uso
- BenefÃ­cios esperados

### DÃºvidas
- Abrir [DiscussÃ£o](https://github.com/seu-usuario/sistema-lanchonetes/discussions)
- Email: suporte@seusite.com

---

## ğŸ“ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

```
MIT License

Copyright (c) 2024 [Seu Nome/Empresa]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

[Texto completo da licenÃ§a MIT]
```

---

## ğŸ¯ Notas para Desenvolvimento com IAs

### Contexto para IAs (GitHub Copilot, ChatGPT, Claude, etc.)

Este README foi estruturado para que **qualquer IA generativa** possa entender rapidamente o projeto e gerar cÃ³digo consistente.

### Arquitetura
- **Backend**: Express.js com Prisma ORM, controllers separados por recurso
- **Frontend**: React funcional com hooks, TanStack Query para cache
- **Banco**: SQLite com Prisma, migraÃ§Ãµes versionadas
- **Tempo Real**: Socket.io para eventos entre cliente e servidor

### PadrÃµes de CÃ³digo

**Backend:**
- Async/await em todas as operaÃ§Ãµes assÃ­ncronas
- Try/catch em todos os controllers
- ValidaÃ§Ã£o com express-validator
- Logs com Winston
- JWT para autenticaÃ§Ã£o
- Prisma transactions para operaÃ§Ãµes crÃ­ticas

**Frontend:**
- Componentes funcionais com hooks
- TanStack Query para estado do servidor
- Context API para estado global (auth, socket)
- Tailwind CSS para estilizaÃ§Ã£o
- Axios para requests HTTP
- Socket.io-client para WebSocket

### ConvenÃ§Ãµes de Nomenclatura
- **Arquivos**: camelCase para JS, PascalCase para componentes React
- **Rotas API**: REST padrÃ£o (`GET /api/pedidos`, `POST /api/pedidos/:id`)
- **Eventos Socket**: snake_case (`novo_pedido`, `pedido_atualizado`)
- **Banco de dados**: PascalCase para models, camelCase para campos
- **VariÃ¡veis**: camelCase
- **Constantes**: UPPER_SNAKE_CASE

### Prioridades
1. **Simplicidade**: CÃ³digo limpo e fÃ¡cil de manter
2. **Performance**: OperaÃ§Ãµes em tempo real instantÃ¢neas
3. **Confiabilidade**: Sistema nÃ£o pode perder dados
4. **Usabilidade**: Interface intuitiva para nÃ£o tÃ©cnicos
5. **SeguranÃ§a**: ProteÃ§Ã£o de dados e autenticaÃ§Ã£o

### Quando Gerar CÃ³digo
- Seguir estrutura de diretÃ³rios estabelecida
- Usar Prisma para todas as operaÃ§Ãµes de banco
- Implementar try/catch em todas as rotas
- Validar inputs antes de processar
- Emitir eventos WebSocket apÃ³s mutaÃ§Ãµes
- Usar TanStack Query no frontend
- Invalidar queries apÃ³s mutaÃ§Ãµes

---

## ğŸ“Š Status do Projeto

**VersÃ£o Atual:** 1.0.0  
**Status:** âœ… **10 de 12 fases concluÃ­das**  
**Em Desenvolvimento:** Impressora & Backup, Polish & Deploy  
**Ãšltima AtualizaÃ§Ã£o:** Dezembro 2024  

### Progresso por MÃ³dulo
- âœ… Setup e Infraestrutura - 100%
- âœ… Backend API - 100%
- âœ… AutenticaÃ§Ã£o - 100%
- âœ… Frontend Base - 100%
- âœ… Tela Atendente - 100%
- âœ… Painel Cozinha - 100%
- âœ… Tela Caixa - 100%
- âœ… Painel Admin - 100%
- âœ… Dashboard KPIs - 100%
- âœ… Controle Estoque - 100%
- ğŸ”„ Impressora TÃ©rmica - 30%
- ğŸ”„ Deploy & Polish - 50%

---

**Desenvolvido com â¤ï¸ para revolucionar a gestÃ£o de lanchonetes**

**README.MD Version:** 2.0  
**Autor:** [Seu Nome/Empresa]  
**GitHub:** [github.com/seu-usuario/sistema-lanchonetes](https://github.com/seu-usuario/sistema-lanchonetes)